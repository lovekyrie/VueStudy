<html>

<head>
  <title>vue中的key</title>
</head>

<body>
  <div id="app">
    {{items}}
    <ul>
      <item v-for="i in items" :value="i" :key="i"></item>
    </ul>
    <button @click="addValue">AddValue</button>
    <ul>
      <item v-for="(i, index) in items" :value="i" :key="index"></item>
    </ul>
  </div>
  <!-- why can't use index as a key in vfor -->
  <script src="https://unpkg.com/vue@2.2.6/dist/vue.js"></script>
  <script>
    console.clear()

    Vue.component("item", {
      props: ["value"],
      data() {
        return {
          internalValue: this.value
        }
      },
      template: `<li>Internal: {{internalValue}} Prop: {{value}}</li>`
    })


    new Vue({
      el: "#app",
      data: {
        items: [1, 2, 3, 4, 5]
      },
      methods: {
        addValue() {
          this.items.splice(this.items.length / 2, 0, this.items.length + 1)
        }
      }
    })
  </script>
</body>

</html>